直接用Floyd算法即可，floyd的写法本质可以看作是一个dp